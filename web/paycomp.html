<!doctype html>
<html lang="ko">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>오이+ · 결제 완료</title>
    <style>
         :root {
            --bg: #f7f7f7;
            --card: #ffffff;
            --ink: #1f2937;
            --ink-dim: #6b7280;
            --accent: #53e3ac;
            --accent-hover: #34c693;
            --line: #e5e7eb;
            --success: #22c55e;
        }
        
        * {
            box-sizing: border-box
        }
        
        body {
            margin: 0;
            font-family: system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans KR", sans-serif;
            background: var(--bg);
            color: var(--ink);
            line-height: 1.6;
        }
        /* 상단 내비 */
        
        .nav {
            position: sticky;
            top: 0;
            z-index: 100;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 24px;
            background: #fff;
            border-bottom: 1px solid var(--line);
        }
        
        .brand {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 900
        }
        
        .brand svg {
            display: block
        }
        
        .nav-actions {
            display: flex;
            gap: 10px
        }
        
        .nav-actions a {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 999px;
            font-size: 14px;
            font-weight: 700;
            text-decoration: none;
            transition: .2s;
        }
        
        .nav-actions .ghost {
            color: var(--accent);
            border: 1.5px solid var(--accent);
            background: #fff
        }
        
        .nav-actions .ghost:hover {
            background: var(--accent);
            color: #fff
        }
        /* 본문 */
        
        .wrap {
            max-width: 720px;
            margin: 48px auto;
            padding: 0 20px
        }
        
        .card {
            background: var(--card);
            border: 1px solid var(--line);
            border-radius: 16px;
            box-shadow: 0 6px 20px rgba(0, 0, 0, .06);
            padding: 28px;
            text-align: center;
        }
        
        .check {
            width: 64px;
            height: 64px;
            border-radius: 50%;
            display: inline-grid;
            place-items: center;
            margin: 0 auto 12px;
            background: var(--accent);
            color: #fff;
            box-shadow: 0 6px 16px rgba(83, 227, 172, .35);
        }
        
        .title {
            margin: 8px 0 6px 0;
            font-size: 26px;
            font-weight: 900
        }
        
        .meta {
            color: var(--ink-dim);
            font-size: 14px
        }
        
        .grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-top: 18px
        }
        
        .item {
            text-align: left;
            background: #fff;
            border: 1px solid var(--line);
            border-radius: 12px;
            padding: 14px 16px;
        }
        
        .item .k {
            color: var(--ink-dim);
            font-size: 12px
        }
        
        .item .v {
            font-weight: 800;
            margin-top: 4px
        }
        
        .pills {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 8px
        }
        
        .pill {
            padding: 8px 12px;
            border: 1px solid var(--line);
            border-radius: 999px;
            font-size: 12px;
            background: #fff;
            color: #374151
        }
        
        .btns {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 12px 18px;
            border-radius: 12px;
            font-weight: 800;
            border: 0;
            cursor: pointer;
            background: var(--accent);
            color: #fff;
            transition: .2s;
        }
        
        .btn:hover {
            background: var(--accent-hover)
        }
        
        .btn.ghost {
            background: #fff;
            color: var(--accent);
            border: 1.5px solid var(--accent)
        }
        
        .btn.ghost:hover {
            background: var(--accent);
            color: #fff
        }
        
        .note {
            margin-top: 12px;
            color: var(--ink-dim);
            font-size: 12px
        }
        
        @media (max-width:640px) {
            .grid {
                grid-template-columns: 1fr
            }
            .btns {
                flex-direction: column
            }
            .btn {
                width: 100%
            }
        }
    </style>
</head>

<body>
    <!-- 상단 내비 -->
    <nav class="nav">
        <div class="brand">
            <!-- 오이+ 로고 -->
            <svg width="26" height="26" viewBox="0 0 48 48" aria-hidden="true">
        <defs>
          <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0" stop-color="#53e3ac"/><stop offset="1" stop-color="#34c693"/>
          </linearGradient>
        </defs>
        <circle cx="24" cy="24" r="20" fill="url(#g)" stroke="#2aa57f" stroke-width="2"/>
        <circle cx="24" cy="24" r="14" fill="none" stroke="#ffffff88" stroke-width="2"/>
        <rect x="22" y="15" width="4" height="18" rx="2" fill="#fff"/>
        <rect x="15" y="22" width="18" height="4" rx="2" fill="#fff"/>
      </svg>
            <a href="/" style="text-decoration:none;color:inherit">오이+</a>
        </div>
        <div class="nav-actions">
            <a class="ghost" href="/mypage.html">마이페이지</a>
        </div>
    </nav>

    <!-- 본문 -->
    <main class="wrap">
        <section class="card" aria-live="polite">
            <div class="check" aria-hidden="true">
                <svg width="30" height="30" viewBox="0 0 24 24" fill="currentColor">
          <path d="M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
        </svg>
            </div>
            <h1 class="title">결제가 완료되었습니다</h1>
            <p class="meta">구독이 활성화 되었어요. 아래 영수증 정보를 확인하세요.</p>

            <!-- 합계/플랜/일시/주문번호 -->
            <div class="grid">
                <div class="item">
                    <div class="k">구독 플랜</div>
                    <div class="v" id="r-plan">-</div>
                    <!-- 선택 서비스 목록(옵션) -->
                    <div id="r-services" class="pills" style="display:none"></div>
                </div>
                <div class="item">
                    <div class="k">청구 금액(월)</div>
                    <div class="v" id="r-amount">-</div>
                </div>
                <div class="item">
                    <div class="k">결제 일시</div>
                    <div class="v" id="r-time">-</div>
                </div>
                <div class="item">
                    <div class="k">주문 번호</div>
                    <div class="v" id="r-id">-</div>
                </div>
            </div>

            <div class="btns">
                <button class="btn" onclick="location.href='/mypage.html'">마이페이지로</button>
                <button class="btn ghost" onclick="location.href='/'">메인으로</button>
                <button class="btn ghost" id="btnReceipt">영수증 저장(PDF)</button>
            </div>

            <p class="note">※ 데모 페이지입니다. 실제 결제는 처리되지 않습니다.</p>
        </section>
    </main>

    <script>
        // --- 결제 결과 표시 ---
        // 예: /paycomp?plan=standard&amount=14190&services=넷플릭스,디즈니+&oid=OI-ABC123
        const params = new URLSearchParams(location.search);
        const plan = params.get('plan') || 'basic';
        const amount = params.get('amount'); // 숫자 문자열 (원)
        const services = (params.get('services') || '').split(',').filter(Boolean);
        const oidParam = params.get('oid');

        // 플랜/금액
        const prettyPlan = plan.charAt(0).toUpperCase() + plan.slice(1);
        document.getElementById('r-plan').textContent = prettyPlan;
        document.getElementById('r-amount').textContent =
            amount ? `₩${Number(amount).toLocaleString('ko-KR')}` : '₩0';

        // 선택 서비스 배지 (옵션)
        if (services.length) {
            const holder = document.getElementById('r-services');
            holder.style.display = 'flex';
            for (const s of services) {
                const span = document.createElement('span');
                span.className = 'pill';
                span.textContent = s;
                holder.appendChild(span);
            }
        }

        // 결제 일시
        const now = new Date();
        const ts = now.getFullYear() + '-' +
            String(now.getMonth() + 1).padStart(2, '0') + '-' +
            String(now.getDate()).padStart(2, '0') + ' ' +
            String(now.getHours()).padStart(2, '0') + ':' +
            String(now.getMinutes()).padStart(2, '0');
        document.getElementById('r-time').textContent = ts;

        // 주문번호: 파라미터 우선, 없으면 생성
        const oid = oidParam || ('OI-' + now.getTime().toString(36).toUpperCase());
        document.getElementById('r-id').textContent = oid;

        // 간단한 PDF 저장(프린트) – 버튼 클릭 시 인쇄 다이얼로그
        document.getElementById('btnReceipt').addEventListener('click', () => {
            window.print();
        });
    </script>
</body>

</html>